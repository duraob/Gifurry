{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/jet/Documents/buildspace/Gitfurry/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/jet/Documents/buildspace/Gitfurry/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/jet/Documents/buildspace/Gitfurry/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/home/jet/Documents/buildspace/Gitfurry/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.array = exports.rustEnum = exports.str = exports.vecU8 = exports.tagged = exports.vec = exports.bool = exports.option = exports.publicKey = exports.i128 = exports.u128 = exports.i64 = exports.u64 = exports.struct = exports.i32 = exports.u32 = exports.i16 = exports.u16 = exports.i8 = exports.u8 = void 0;\n\nvar buffer_layout_1 = require(\"buffer-layout\");\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\n\nvar buffer_layout_2 = require(\"buffer-layout\");\n\nObject.defineProperty(exports, \"u8\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u8;\n  }\n});\nObject.defineProperty(exports, \"i8\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s8;\n  }\n});\nObject.defineProperty(exports, \"u16\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u16;\n  }\n});\nObject.defineProperty(exports, \"i16\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s16;\n  }\n});\nObject.defineProperty(exports, \"u32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u32;\n  }\n});\nObject.defineProperty(exports, \"i32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s32;\n  }\n});\nObject.defineProperty(exports, \"struct\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.struct;\n  }\n});\n\nvar BNLayout = /*#__PURE__*/function (_buffer_layout_1$Layo) {\n  _inherits(BNLayout, _buffer_layout_1$Layo);\n\n  var _super = _createSuper(BNLayout);\n\n  function BNLayout(span, signed, property) {\n    var _this;\n\n    _classCallCheck(this, BNLayout);\n\n    _this = _super.call(this, span, property);\n    _this.blob = buffer_layout_1.blob(span);\n    _this.signed = signed;\n    return _this;\n  }\n\n  _createClass(BNLayout, [{\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var num = new bn_js_1.default(this.blob.decode(b, offset), 10, 'le');\n\n      if (this.signed) {\n        return num.fromTwos(this.span * 8).clone();\n      }\n\n      return num;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      if (this.signed) {\n        src = src.toTwos(this.span * 8);\n      }\n\n      return this.blob.encode(src.toArrayLike(Buffer, 'le', this.span), b, offset);\n    }\n  }]);\n\n  return BNLayout;\n}(buffer_layout_1.Layout);\n\nfunction u64(property) {\n  return new BNLayout(8, false, property);\n}\n\nexports.u64 = u64;\n\nfunction i64(property) {\n  return new BNLayout(8, true, property);\n}\n\nexports.i64 = i64;\n\nfunction u128(property) {\n  return new BNLayout(16, false, property);\n}\n\nexports.u128 = u128;\n\nfunction i128(property) {\n  return new BNLayout(16, true, property);\n}\n\nexports.i128 = i128;\n\nvar WrappedLayout = /*#__PURE__*/function (_buffer_layout_1$Layo2) {\n  _inherits(WrappedLayout, _buffer_layout_1$Layo2);\n\n  var _super2 = _createSuper(WrappedLayout);\n\n  function WrappedLayout(layout, decoder, encoder, property) {\n    var _this2;\n\n    _classCallCheck(this, WrappedLayout);\n\n    _this2 = _super2.call(this, layout.span, property);\n    _this2.layout = layout;\n    _this2.decoder = decoder;\n    _this2.encoder = encoder;\n    return _this2;\n  }\n\n  _createClass(WrappedLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      return this.decoder(this.layout.decode(b, offset));\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      return this.layout.encode(this.encoder(src), b, offset);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b, offset) {\n      return this.layout.getSpan(b, offset);\n    }\n  }]);\n\n  return WrappedLayout;\n}(buffer_layout_1.Layout);\n\nfunction publicKey(property) {\n  return new WrappedLayout(buffer_layout_1.blob(32), function (b) {\n    return new web3_js_1.PublicKey(b);\n  }, function (key) {\n    return key.toBuffer();\n  }, property);\n}\n\nexports.publicKey = publicKey;\n\nvar OptionLayout = /*#__PURE__*/function (_buffer_layout_1$Layo3) {\n  _inherits(OptionLayout, _buffer_layout_1$Layo3);\n\n  var _super3 = _createSuper(OptionLayout);\n\n  function OptionLayout(layout, property) {\n    var _this3;\n\n    _classCallCheck(this, OptionLayout);\n\n    _this3 = _super3.call(this, -1, property);\n    _this3.layout = layout;\n    _this3.discriminator = buffer_layout_1.u8();\n    return _this3;\n  }\n\n  _createClass(OptionLayout, [{\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      if (src === null || src === undefined) {\n        return this.discriminator.encode(0, b, offset);\n      }\n\n      this.discriminator.encode(1, b, offset);\n      return this.layout.encode(src, b, offset + 1) + 1;\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var discriminator = this.discriminator.decode(b, offset);\n\n      if (discriminator === 0) {\n        return null;\n      } else if (discriminator === 1) {\n        return this.layout.decode(b, offset + 1);\n      }\n\n      throw new Error('Invalid option ' + this.property);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var discriminator = this.discriminator.decode(b, offset);\n\n      if (discriminator === 0) {\n        return 1;\n      } else if (discriminator === 1) {\n        return this.layout.getSpan(b, offset + 1) + 1;\n      }\n\n      throw new Error('Invalid option ' + this.property);\n    }\n  }]);\n\n  return OptionLayout;\n}(buffer_layout_1.Layout);\n\nfunction option(layout, property) {\n  return new OptionLayout(layout, property);\n}\n\nexports.option = option;\n\nfunction bool(property) {\n  return new WrappedLayout(buffer_layout_1.u8(), decodeBool, encodeBool, property);\n}\n\nexports.bool = bool;\n\nfunction decodeBool(value) {\n  if (value === 0) {\n    return false;\n  } else if (value === 1) {\n    return true;\n  }\n\n  throw new Error('Invalid bool: ' + value);\n}\n\nfunction encodeBool(value) {\n  return value ? 1 : 0;\n}\n\nfunction vec(elementLayout, property) {\n  var length = buffer_layout_1.u32('length');\n  var layout = buffer_layout_1.struct([length, buffer_layout_1.seq(elementLayout, buffer_layout_1.offset(length, -length.span), 'values')]);\n  return new WrappedLayout(layout, function (_ref) {\n    var values = _ref.values;\n    return values;\n  }, function (values) {\n    return {\n      values: values\n    };\n  }, property);\n}\n\nexports.vec = vec;\n\nfunction tagged(tag, layout, property) {\n  var wrappedLayout = buffer_layout_1.struct([u64('tag'), layout.replicate('data')]);\n\n  function decodeTag(_ref2) {\n    var receivedTag = _ref2.tag,\n        data = _ref2.data;\n\n    if (!receivedTag.eq(tag)) {\n      throw new Error('Invalid tag, expected: ' + tag.toString('hex') + ', got: ' + receivedTag.toString('hex'));\n    }\n\n    return data;\n  }\n\n  return new WrappedLayout(wrappedLayout, decodeTag, function (data) {\n    return {\n      tag: tag,\n      data: data\n    };\n  }, property);\n}\n\nexports.tagged = tagged;\n\nfunction vecU8(property) {\n  var length = buffer_layout_1.u32('length');\n  var layout = buffer_layout_1.struct([length, buffer_layout_1.blob(buffer_layout_1.offset(length, -length.span), 'data')]);\n  return new WrappedLayout(layout, function (_ref3) {\n    var data = _ref3.data;\n    return data;\n  }, function (data) {\n    return {\n      data: data\n    };\n  }, property);\n}\n\nexports.vecU8 = vecU8;\n\nfunction str(property) {\n  return new WrappedLayout(vecU8(), function (data) {\n    return data.toString('utf-8');\n  }, function (s) {\n    return Buffer.from(s, 'utf-8');\n  }, property);\n}\n\nexports.str = str;\n\nfunction rustEnum(variants, property) {\n  var unionLayout = buffer_layout_1.union(buffer_layout_1.u8(), property);\n  variants.forEach(function (variant, index) {\n    return unionLayout.addVariant(index, variant, variant.property);\n  });\n  return unionLayout;\n}\n\nexports.rustEnum = rustEnum;\n\nfunction array(elementLayout, length, property) {\n  var layout = buffer_layout_1.struct([buffer_layout_1.seq(elementLayout, length, 'values')]);\n  return new WrappedLayout(layout, function (_ref4) {\n    var values = _ref4.values;\n    return values;\n  }, function (values) {\n    return {\n      values: values\n    };\n  }, property);\n}\n\nexports.array = array;","map":{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.array = exports.rustEnum = exports.str = exports.vecU8 = exports.tagged = exports.vec = exports.bool = exports.option = exports.publicKey = exports.i128 = exports.u128 = exports.i64 = exports.u64 = exports.struct = exports.i32 = exports.u32 = exports.i16 = exports.u16 = exports.i8 = exports.u8 = void 0;\nconst buffer_layout_1 = require(\"buffer-layout\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nvar buffer_layout_2 = require(\"buffer-layout\");\nObject.defineProperty(exports, \"u8\", { enumerable: true, get: function () { return buffer_layout_2.u8; } });\nObject.defineProperty(exports, \"i8\", { enumerable: true, get: function () { return buffer_layout_2.s8; } });\nObject.defineProperty(exports, \"u16\", { enumerable: true, get: function () { return buffer_layout_2.u16; } });\nObject.defineProperty(exports, \"i16\", { enumerable: true, get: function () { return buffer_layout_2.s16; } });\nObject.defineProperty(exports, \"u32\", { enumerable: true, get: function () { return buffer_layout_2.u32; } });\nObject.defineProperty(exports, \"i32\", { enumerable: true, get: function () { return buffer_layout_2.s32; } });\nObject.defineProperty(exports, \"struct\", { enumerable: true, get: function () { return buffer_layout_2.struct; } });\nclass BNLayout extends buffer_layout_1.Layout {\n    constructor(span, signed, property) {\n        super(span, property);\n        this.blob = buffer_layout_1.blob(span);\n        this.signed = signed;\n    }\n    decode(b, offset = 0) {\n        const num = new bn_js_1.default(this.blob.decode(b, offset), 10, 'le');\n        if (this.signed) {\n            return num.fromTwos(this.span * 8).clone();\n        }\n        return num;\n    }\n    encode(src, b, offset = 0) {\n        if (this.signed) {\n            src = src.toTwos(this.span * 8);\n        }\n        return this.blob.encode(src.toArrayLike(Buffer, 'le', this.span), b, offset);\n    }\n}\nfunction u64(property) {\n    return new BNLayout(8, false, property);\n}\nexports.u64 = u64;\nfunction i64(property) {\n    return new BNLayout(8, true, property);\n}\nexports.i64 = i64;\nfunction u128(property) {\n    return new BNLayout(16, false, property);\n}\nexports.u128 = u128;\nfunction i128(property) {\n    return new BNLayout(16, true, property);\n}\nexports.i128 = i128;\nclass WrappedLayout extends buffer_layout_1.Layout {\n    constructor(layout, decoder, encoder, property) {\n        super(layout.span, property);\n        this.layout = layout;\n        this.decoder = decoder;\n        this.encoder = encoder;\n    }\n    decode(b, offset) {\n        return this.decoder(this.layout.decode(b, offset));\n    }\n    encode(src, b, offset) {\n        return this.layout.encode(this.encoder(src), b, offset);\n    }\n    getSpan(b, offset) {\n        return this.layout.getSpan(b, offset);\n    }\n}\nfunction publicKey(property) {\n    return new WrappedLayout(buffer_layout_1.blob(32), (b) => new web3_js_1.PublicKey(b), (key) => key.toBuffer(), property);\n}\nexports.publicKey = publicKey;\nclass OptionLayout extends buffer_layout_1.Layout {\n    constructor(layout, property) {\n        super(-1, property);\n        this.layout = layout;\n        this.discriminator = buffer_layout_1.u8();\n    }\n    encode(src, b, offset = 0) {\n        if (src === null || src === undefined) {\n            return this.discriminator.encode(0, b, offset);\n        }\n        this.discriminator.encode(1, b, offset);\n        return this.layout.encode(src, b, offset + 1) + 1;\n    }\n    decode(b, offset = 0) {\n        const discriminator = this.discriminator.decode(b, offset);\n        if (discriminator === 0) {\n            return null;\n        }\n        else if (discriminator === 1) {\n            return this.layout.decode(b, offset + 1);\n        }\n        throw new Error('Invalid option ' + this.property);\n    }\n    getSpan(b, offset = 0) {\n        const discriminator = this.discriminator.decode(b, offset);\n        if (discriminator === 0) {\n            return 1;\n        }\n        else if (discriminator === 1) {\n            return this.layout.getSpan(b, offset + 1) + 1;\n        }\n        throw new Error('Invalid option ' + this.property);\n    }\n}\nfunction option(layout, property) {\n    return new OptionLayout(layout, property);\n}\nexports.option = option;\nfunction bool(property) {\n    return new WrappedLayout(buffer_layout_1.u8(), decodeBool, encodeBool, property);\n}\nexports.bool = bool;\nfunction decodeBool(value) {\n    if (value === 0) {\n        return false;\n    }\n    else if (value === 1) {\n        return true;\n    }\n    throw new Error('Invalid bool: ' + value);\n}\nfunction encodeBool(value) {\n    return value ? 1 : 0;\n}\nfunction vec(elementLayout, property) {\n    const length = buffer_layout_1.u32('length');\n    const layout = buffer_layout_1.struct([\n        length,\n        buffer_layout_1.seq(elementLayout, buffer_layout_1.offset(length, -length.span), 'values'),\n    ]);\n    return new WrappedLayout(layout, ({ values }) => values, values => ({ values }), property);\n}\nexports.vec = vec;\nfunction tagged(tag, layout, property) {\n    const wrappedLayout = buffer_layout_1.struct([\n        u64('tag'),\n        layout.replicate('data'),\n    ]);\n    function decodeTag({ tag: receivedTag, data }) {\n        if (!receivedTag.eq(tag)) {\n            throw new Error('Invalid tag, expected: ' +\n                tag.toString('hex') +\n                ', got: ' +\n                receivedTag.toString('hex'));\n        }\n        return data;\n    }\n    return new WrappedLayout(wrappedLayout, decodeTag, data => ({ tag, data }), property);\n}\nexports.tagged = tagged;\nfunction vecU8(property) {\n    const length = buffer_layout_1.u32('length');\n    const layout = buffer_layout_1.struct([\n        length,\n        buffer_layout_1.blob(buffer_layout_1.offset(length, -length.span), 'data'),\n    ]);\n    return new WrappedLayout(layout, ({ data }) => data, data => ({ data }), property);\n}\nexports.vecU8 = vecU8;\nfunction str(property) {\n    return new WrappedLayout(vecU8(), data => data.toString('utf-8'), s => Buffer.from(s, 'utf-8'), property);\n}\nexports.str = str;\nfunction rustEnum(variants, property) {\n    const unionLayout = buffer_layout_1.union(buffer_layout_1.u8(), property);\n    variants.forEach((variant, index) => unionLayout.addVariant(index, variant, variant.property));\n    return unionLayout;\n}\nexports.rustEnum = rustEnum;\nfunction array(elementLayout, length, property) {\n    const layout = buffer_layout_1.struct([\n        buffer_layout_1.seq(elementLayout, length, 'values'),\n    ]);\n    return new WrappedLayout(layout, ({ values }) => values, values => ({ values }), property);\n}\nexports.array = array;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}