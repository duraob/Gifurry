{"code":"(this[\"webpackJsonpbuildspace-solana\"]=this[\"webpackJsonpbuildspace-solana\"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},111:function(e,t){},114:function(e,t){},143:function(e,t){},144:function(e,t){},168:function(e,t,n){\"use strict\";n.r(t);var c=n(24),r=n.n(c),a=n(100),s=n.n(a),i=(n(109),n(1)),o=n.n(i),u=n(3),l=n(9),f=n.p+\"static/media/twitter-logo.d89d9a86.svg\",d=(n(110),n(49)),p=n(8),b=n(30),g=n(15),m=b.d.SystemProgram,j=(b.d.Keypair,new p.PublicKey(\"CBwSeef62zCY3CbUgQnKQPmokozQp5FDcsfMwFUgXHX2\")),h=new p.PublicKey(d.metadata.address),x=Object(p.clusterApiUrl)(\"devnet\"),v=\"processed\",w=\"_buildspace\",y=\"https://twitter.com/\".concat(w),O=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(\"\"),s=Object(l.a)(a,2),i=s[0],O=s[1],k=Object(c.useState)([]),S=Object(l.a)(k,2),N=S[0],A=S[1],K=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,!(n=t.solana)){e.next=13;break}if(!n.isPhantom){e.next=12;break}return console.log(\"Phantom Wallet is found!\"),e.next=7,n.connect({onlyIfTrusted:!0});case 7:c=e.sent,console.log(\"Connected with PubKey:\",c.publicKey.toString()),r(c.publicKey.toString()),e.next=13;break;case 12:alert(\"Solana obj is not found - get Phantom Wallet\");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(\"err\");case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(n=t.solana)){e.next=7;break}return e.next=4,n.connect();case 4:c=e.sent,console.log(\"Connected with pubKey:\",c.publicKey.toString()),r(c.publicKey.toString());case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.length){e.next=3;break}return console.log(\"No gif link given!\"),e.abrupt(\"return\");case 3:return console.log(\"Gif link:\",i),e.prev=4,t=E(),n=new b.a(d,h,t),e.next=9,n.rpc.addGif(i,{accounts:{baseAccount:j,user:t.wallet.publicKey}});case 9:return console.log(\"Gif successfully sent to our program\",i),e.next=12,M();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(\"Error sending gif to program\",e.t0);case 17:case\"end\":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=e.target.value;O(t)},E=function(){var e=new p.Connection(x,v);return new b.b(e,window.solana,v)},L=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E(),n=new b.a(d,h,t),console.log(\"ping\"),e.next=6,n.rpc.initialize({accounts:{baseAccount:j,user:t.wallet.publicKey,systemProgram:m.programId},signers:[j]});case 6:return console.log(\"Created a new BaseAccount w/ address:\",j.toString()),e.next=9,M();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(\"Error creating BaseAccount account:\",e.t0);case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E(),n=new b.a(d,h,t),e.next=5,n.account.baseAccount.fetch(j);case 5:c=e.sent,console.log(\"Account retrieved\",c),A(c.gifList),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(\"getGifs error: \",e.t0),A(null);case 14:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){window.addEventListener(\"load\",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.useEffect)((function(){n&&(console.log(\"Fetching Gif List...\"),M())}),[n]),Object(g.jsx)(\"div\",{className:\"App\",children:Object(g.jsxs)(\"div\",{className:n?\"authed-container\":\"container\",children:[Object(g.jsxs)(\"div\",{className:\"header-container\",children:[Object(g.jsx)(\"p\",{className:\"header\",children:\"Gifurry\"}),Object(g.jsx)(\"p\",{className:\"sub-text\",children:\"\\u2728 add gifs of fur frens to explore the metaverse with \\u2728\"}),!n&&Object(g.jsx)(\"button\",{className:\"cta-button connect-wallet-button\",onClick:C,children:\"Connect Wallet!\"}),n&&(null===N?Object(g.jsx)(\"div\",{className:\"connected-container\",children:Object(g.jsx)(\"button\",{className:\"cta-button submit-gif-button\",onClick:L,children:\"One Time Init for GIF Program Account\"})}):Object(g.jsxs)(\"div\",{className:\"connected-container\",children:[Object(g.jsx)(\"input\",{type:\"text\",placeholder:\"Enter gif link here!\",value:i,onChange:P}),Object(g.jsx)(\"button\",{className:\"cta-button submit-gif-button\",onClick:G,children:\"Submit Gif!\"}),Object(g.jsx)(\"div\",{className:\"gif-grid\",children:N.map((function(e,t){return Object(g.jsxs)(\"div\",{className:\"gif-item\",children:[Object(g.jsx)(\"img\",{src:e.gifLink,alt:e.gifLink}),Object(g.jsxs)(\"p\",{className:\"submit-text\",children:[\"Submitted by: \",e.userAddress.toString()]})]},t)}))})]}))]}),Object(g.jsxs)(\"div\",{className:\"footer-container\",children:[Object(g.jsx)(\"img\",{alt:\"Twitter Logo\",className:\"twitter-logo\",src:f}),Object(g.jsx)(\"a\",{className:\"footer-text\",href:y,target:\"_blank\",rel:\"noreferrer\",children:\"built on @\".concat(w)})]})]})})};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById(\"root\"))},49:function(e){e.exports=JSON.parse('{\"version\":\"0.0.0\",\"name\":\"myepicproject\",\"instructions\":[{\"name\":\"initialize\",\"accounts\":[{\"name\":\"baseAccount\",\"isMut\":true,\"isSigner\":true},{\"name\":\"user\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false}],\"args\":[]},{\"name\":\"addGif\",\"accounts\":[{\"name\":\"baseAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"user\",\"isMut\":true,\"isSigner\":true}],\"args\":[{\"name\":\"gifLink\",\"type\":\"string\"}]}],\"accounts\":[{\"name\":\"BaseAccount\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"totalGifs\",\"type\":\"u64\"},{\"name\":\"gifList\",\"type\":{\"vec\":{\"defined\":\"ItemStruct\"}}}]}}],\"types\":[{\"name\":\"ItemStruct\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"gifLink\",\"type\":\"string\"},{\"name\":\"userAddress\",\"type\":\"publicKey\"}]}}],\"metadata\":{\"address\":\"AR2EgRYgwrJbRc5Gko9XfZANBwdzXMXDC5ytmsXE5W7K\"}}')}},[[168,1,2]]]);","name":"static/js/main.2b6bdccb.chunk.js","map":{"version":3,"sources":["static/js/main.2b6bdccb.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","twitter_logo","p","idl","index_browser_esm","esm","jsx_runtime","SystemProgram","baseAccount","Keypair","programID","metadata","address","network","Object","opts","TWITTER_HANDLE","TWITTER_LINK","concat","src_App_0","_useState","_useState2","walletAddress","setWalletAddress","_useState3","_useState4","inputValue","setInputValue","_useState5","_useState6","gifList","setGifList","checkIfWalletIsConnected","_ref","a","mark","_callee","_window","solana","response","wrap","_context","prev","next","window","isPhantom","console","log","connect","onlyIfTrusted","sent","publicKey","toString","alert","t0","stop","apply","arguments","connectWallet","_ref2","_callee2","_window2","_context2","sendGif","_ref3","_callee3","provider","program","_context3","length","abrupt","getProvider","rpc","addGif","accounts","user","wallet","getGifList","onInputChange","event","value","target","connection","createGifAccount","_ref4","_callee4","_context4","initialize","systemProgram","programId","signers","_ref5","_callee5","account","_context5","fetch","addEventListener","_ref6","_callee6","_context6","_x","className","children","onClick","type","placeholder","onChange","map","item","index","src","gifLink","alt","userAddress","href","rel","render","StrictMode","document","getElementById","JSON","parse"],"mappings":"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"},"input":"(this[\"webpackJsonpbuildspace-solana\"] = this[\"webpackJsonpbuildspace-solana\"] || []).push([[0],{\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(24);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(100);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(109);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(1);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/assets/twitter-logo.svg\n/* harmony default export */ var twitter_logo = (__webpack_require__.p + \"static/media/twitter-logo.d89d9a86.svg\");\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./src/idl.json\nvar idl = __webpack_require__(49);\n\n// EXTERNAL MODULE: ./node_modules/@solana/web3.js/lib/index.browser.esm.js\nvar index_browser_esm = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@project-serum/anchor/dist/esm/index.js + 17 modules\nvar esm = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/App.js\n// Constants\n// SystemProgram is a reference to the Solana runtime!\nvar SystemProgram=esm[\"d\" /* web3 */].SystemProgram,Keypair=esm[\"d\" /* web3 */].Keypair;// Embed public key of program account\nvar baseAccount=new index_browser_esm[\"PublicKey\"]('CBwSeef62zCY3CbUgQnKQPmokozQp5FDcsfMwFUgXHX2');// Get our program's id form the IDL file.\nvar programID=new index_browser_esm[\"PublicKey\"](idl.metadata.address);// Set our network to devent.\nvar network=Object(index_browser_esm[\"clusterApiUrl\"])('devnet');// Control's how we want to acknowledge when a trasnaction is \"done\".\nvar opts={preflightCommitment:\"processed\"};// TEST GIFS\nvar TEST_GIFS=['https://i.giphy.com/media/eIG0HfouRQJQr1wBzz/giphy.webp','https://media3.giphy.com/media/L71a8LW2UrKwPaWNYM/giphy.gif?cid=ecf05e47rr9qizx2msjucl1xyvuu47d7kf25tqt2lvo024uo&rid=giphy.gif&ct=g','https://media4.giphy.com/media/AeFmQjHMtEySooOc8K/giphy.gif?cid=ecf05e47qdzhdma2y3ugn32lkgi972z9mpfzocjj6z1ro4ec&rid=giphy.gif&ct=g','https://i.giphy.com/media/PAqjdPkJLDsmBRSYUp/giphy.webp'];// buildspace twitter stuff\nvar TWITTER_HANDLE='_buildspace';var TWITTER_LINK=\"https://twitter.com/\".concat(TWITTER_HANDLE);var App_App=function App(){// State\nvar _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),walletAddress=_useState2[0],setWalletAddress=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),gifList=_useState6[0],setGifList=_useState6[1];// Is phantom wallet connected?\nvar checkIfWalletIsConnected=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _window,solana,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_window=window,solana=_window.solana;if(!solana){_context.next=13;break;}if(!solana.isPhantom){_context.next=12;break;}console.log('Phantom Wallet is found!');_context.next=7;return solana.connect({onlyIfTrusted:true});case 7:response=_context.sent;console.log('Connected with PubKey:',response.publicKey.toString());setWalletAddress(response.publicKey.toString());_context.next=13;break;case 12:alert('Solana obj is not found - get Phantom Wallet');case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log('err');case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function checkIfWalletIsConnected(){return _ref.apply(this,arguments);};}();// Connect Wallet Logic\nvar connectWallet=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var _window2,solana,response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// Render UI when user wallet is not connected\n_window2=window,solana=_window2.solana;if(!solana){_context2.next=7;break;}_context2.next=4;return solana.connect();case 4:response=_context2.sent;console.log('Connected with pubKey:',response.publicKey.toString());setWalletAddress(response.publicKey.toString());case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function connectWallet(){return _ref2.apply(this,arguments);};}();// Send Gif from valid link to our grid\nvar sendGif=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var provider,program;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(inputValue.length===0)){_context3.next=3;break;}console.log('No gif link given!');return _context3.abrupt(\"return\");case 3:console.log('Gif link:',inputValue);_context3.prev=4;provider=getProvider();program=new esm[\"a\" /* Program */](idl,programID,provider);_context3.next=9;return program.rpc.addGif(inputValue,{accounts:{baseAccount:baseAccount,user:provider.wallet.publicKey}});case 9:console.log('Gif successfully sent to our program',inputValue);_context3.next=12;return getGifList();case 12:_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](4);console.log('Error sending gif to program',_context3.t0);case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[4,14]]);}));return function sendGif(){return _ref3.apply(this,arguments);};}();// Get Input Change\nvar onInputChange=function onInputChange(event){var value=event.target.value;setInputValue(value);};var getProvider=function getProvider(){var connection=new index_browser_esm[\"Connection\"](network,opts.preflightCommitment);var provider=new esm[\"b\" /* Provider */](connection,window.solana,opts.preflightCommitment);return provider;};// Call Initialize\nvar createGifAccount=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var provider,program;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;provider=getProvider();program=new esm[\"a\" /* Program */](idl,programID,provider);console.log('ping');_context4.next=6;return program.rpc.initialize({accounts:{baseAccount:baseAccount,user:provider.wallet.publicKey,systemProgram:SystemProgram.programId},signers:[baseAccount]});case 6:console.log('Created a new BaseAccount w/ address:',baseAccount.toString());_context4.next=9;return getGifList();case 9:_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.log('Error creating BaseAccount account:',_context4.t0);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function createGifAccount(){return _ref4.apply(this,arguments);};}();var renderNotConnectedContainer=function renderNotConnectedContainer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"cta-button connect-wallet-button\",onClick:connectWallet,children:\"Connect Wallet!\"});};var renderConnectedContainer=function renderConnectedContainer(){// Program Account Not init\nif(gifList===null){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"connected-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"cta-button submit-gif-button\",onClick:createGifAccount,children:\"One Time Init for GIF Program Account\"})});}else{// Account exists and user can submit gifs\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"connected-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Enter gif link here!\",value:inputValue,onChange:onInputChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"cta-button submit-gif-button\",onClick:sendGif,children:\"Submit Gif!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gif-grid\",children:gifList.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"gif-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:item.gifLink,alt:item.gifLink}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"submit-text\",children:[\"Submitted by: \",item.userAddress.toString()]})]},index);})})]});}};// get gif list\nvar getGifList=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){var provider,program,account;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;provider=getProvider();program=new esm[\"a\" /* Program */](idl,programID,provider);_context5.next=5;return program.account.baseAccount.fetch(baseAccount);case 5:account=_context5.sent;console.log('Account retrieved',account);setGifList(account.gifList);_context5.next=14;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);console.log('getGifs error: ',_context5.t0);setGifList(null);case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function getGifList(){return _ref5.apply(this,arguments);};}();// Check for connected wallet\nObject(react[\"useEffect\"])(function(){window.addEventListener('load',/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(event){return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return checkIfWalletIsConnected();case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x){return _ref6.apply(this,arguments);};}());},[]);// Fetch gif list from connected wallet\nObject(react[\"useEffect\"])(function(){if(walletAddress){console.log('Fetching Gif List...');// Call solana program && set state\ngetGifList();}},[walletAddress]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:walletAddress?'authed-container':'container',children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"header\",children:\"Gifurry\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"sub-text\",children:\"\\u2728 add gifs of fur frens to explore the metaverse with \\u2728\"}),!walletAddress&&renderNotConnectedContainer(),walletAddress&&renderConnectedContainer()]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"footer-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Twitter Logo\",className:\"twitter-logo\",src:twitter_logo}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"footer-text\",href:TWITTER_LINK,target:\"_blank\",rel:\"noreferrer\",children:\"built on @\".concat(TWITTER_HANDLE)})]})]})});};/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"version\\\":\\\"0.0.0\\\",\\\"name\\\":\\\"myepicproject\\\",\\\"instructions\\\":[{\\\"name\\\":\\\"initialize\\\",\\\"accounts\\\":[{\\\"name\\\":\\\"baseAccount\\\",\\\"isMut\\\":true,\\\"isSigner\\\":true},{\\\"name\\\":\\\"user\\\",\\\"isMut\\\":true,\\\"isSigner\\\":true},{\\\"name\\\":\\\"systemProgram\\\",\\\"isMut\\\":false,\\\"isSigner\\\":false}],\\\"args\\\":[]},{\\\"name\\\":\\\"addGif\\\",\\\"accounts\\\":[{\\\"name\\\":\\\"baseAccount\\\",\\\"isMut\\\":true,\\\"isSigner\\\":false},{\\\"name\\\":\\\"user\\\",\\\"isMut\\\":true,\\\"isSigner\\\":true}],\\\"args\\\":[{\\\"name\\\":\\\"gifLink\\\",\\\"type\\\":\\\"string\\\"}]}],\\\"accounts\\\":[{\\\"name\\\":\\\"BaseAccount\\\",\\\"type\\\":{\\\"kind\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"totalGifs\\\",\\\"type\\\":\\\"u64\\\"},{\\\"name\\\":\\\"gifList\\\",\\\"type\\\":{\\\"vec\\\":{\\\"defined\\\":\\\"ItemStruct\\\"}}}]}}],\\\"types\\\":[{\\\"name\\\":\\\"ItemStruct\\\",\\\"type\\\":{\\\"kind\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"gifLink\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"userAddress\\\",\\\"type\\\":\\\"publicKey\\\"}]}}],\\\"metadata\\\":{\\\"address\\\":\\\"AR2EgRYgwrJbRc5Gko9XfZANBwdzXMXDC5ytmsXE5W7K\\\"}}\");\n\n/***/ })\n\n},[[168,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/jet/Documents/buildspace/Gifurry/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jet/Documents/buildspace/Gifurry/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jet/Documents/buildspace/Gifurry/node_modules/postcss-loader/src/index.js??postcss!/home/jet/Documents/buildspace/Gifurry/src/index.css","/home/jet/Documents/buildspace/Gifurry/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/jet/Documents/buildspace/Gifurry/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/jet/Documents/buildspace/Gifurry/node_modules/postcss-loader/src/index.js??postcss!/home/jet/Documents/buildspace/Gifurry/src/App.css","ignored /home/jet/Documents/buildspace/Gifurry/node_modules/tweetnacl crypto","ignored /home/jet/Documents/buildspace/Gifurry/node_modules/bn.js/lib buffer","ignored /home/jet/Documents/buildspace/Gifurry/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /home/jet/Documents/buildspace/Gifurry/node_modules/brorand crypto","/home/jet/Documents/buildspace/Gifurry/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/home/jet/Documents/buildspace/Gifurry/src/assets/twitter-logo.svg","/home/jet/Documents/buildspace/Gifurry/src/App.js","/home/jet/Documents/buildspace/Gifurry/src/index.js"],"names":["SystemProgram","web3","Keypair","baseAccount","PublicKey","programID","idl","metadata","address","network","clusterApiUrl","opts","preflightCommitment","TEST_GIFS","TWITTER_HANDLE","TWITTER_LINK","App","useState","walletAddress","setWalletAddress","inputValue","setInputValue","gifList","setGifList","checkIfWalletIsConnected","window","solana","isPhantom","console","log","connect","onlyIfTrusted","response","publicKey","toString","alert","connectWallet","sendGif","length","provider","getProvider","program","Program","rpc","addGif","accounts","user","wallet","getGifList","onInputChange","event","value","target","connection","Connection","Provider","createGifAccount","initialize","systemProgram","programId","signers","renderNotConnectedContainer","renderConnectedContainer","map","item","index","gifLink","userAddress","account","fetch","useEffect","addEventListener","twitterLogo","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAe,sEAAuB,2CAA2C,E;;;;;;;;;;;;;;;;;ACOjF;AAEA;AACA,GAAQA,cAAR,CAAmCC,mBAAnC,CAAQD,aAAR,CAAuBE,OAAvB,CAAmCD,mBAAnC,CAAuBC,OAAvB,CAEA;AACA,GAAMC,YAAW,CAAG,GAAIC,+BAAJ,CAAc,8CAAd,CAApB,CAEA;AACA,GAAMC,UAAS,CAAG,GAAID,+BAAJ,CAAcE,GAAG,CAACC,QAAJ,CAAaC,OAA3B,CAAlB,CAEA;AACA,GAAMC,QAAO,CAAGC,0CAAa,CAAC,QAAD,CAA7B,CAEA;AACA,GAAMC,KAAI,CAAG,CACXC,mBAAmB,CAAE,WADV,CAAb,CAIA;AACA,GAAMC,UAAS,CAAG,CACjB,yDADiB,CAEjB,qIAFiB,CAGjB,qIAHiB,CAIjB,yDAJiB,CAAlB,CAOA;AACA,GAAMC,eAAc,CAAG,aAAvB,CACA,GAAMC,aAAY,+BAA0BD,cAA1B,CAAlB,CAEA,GAAME,QAAG,CAAG,QAANA,IAAM,EAAM,CAChB;AACA,cAA0CC,yBAAQ,CAAC,IAAD,CAAlD,kEAAOC,aAAP,eAAsBC,gBAAtB,eACA,eAAoCF,yBAAQ,CAAC,EAAD,CAA5C,mEAAOG,UAAP,eAAmBC,aAAnB,eACA,eAA8BJ,yBAAQ,CAAC,EAAD,CAAtC,mEAAOK,OAAP,eAAgBC,UAAhB,eAEA;AACA,GAAMC,yBAAwB,sHAAG,yLAEZC,MAFY,CAEtBC,MAFsB,SAEtBA,MAFsB,KAI1BA,MAJ0B,8BAKxBA,MAAM,CAACC,SALiB,0BAMzBC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EANyB,sBAOFH,OAAM,CAACI,OAAP,CAAe,CAACC,aAAa,CAAE,IAAhB,CAAf,CAPE,QAOnBC,QAPmB,eAQzBJ,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCG,QAAQ,CAACC,SAAT,CAAmBC,QAAnB,EAAtC,EACAf,gBAAgB,CAACa,QAAQ,CAACC,SAAT,CAAmBC,QAAnB,EAAD,CAAhB,CATyB,+BAWzBC,KAAK,CAAC,8CAAD,CAAL,CAXyB,yFAe7BP,OAAO,CAACC,GAAR,CAAY,KAAZ,EAf6B,qEAAH,kBAAxBL,yBAAwB,0CAA9B,CAmBA;AACA,GAAMY,cAAa,uHAAG,uKACpB;AADoB,SAEHX,MAFG,CAEbC,MAFa,UAEbA,MAFa,KAIjBA,MAJiB,iDAKKA,OAAM,CAACI,OAAP,EALL,QAKZE,QALY,gBAMlBJ,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCG,QAAQ,CAACC,SAAT,CAAmBC,QAAnB,EAAtC,EACAf,gBAAgB,CAACa,QAAQ,CAACC,SAAT,CAAmBC,QAAnB,EAAD,CAAhB,CAPkB,wDAAH,kBAAbE,cAAa,2CAAnB,CAWA;AACA,GAAMC,QAAO,uHAAG,oKACXjB,UAAU,CAACkB,MAAX,GAAsB,CADX,2BAEZV,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAFY,yCAKdD,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBT,UAAzB,EALc,iBAONmB,QAPM,CAOKC,WAAW,EAPhB,CAQNC,OARM,CAQI,GAAIC,uBAAJ,CAAYpC,GAAZ,CAAiBD,SAAjB,CAA4BkC,QAA5B,CARJ,wBAUNE,QAAO,CAACE,GAAR,CAAYC,MAAZ,CAAmBxB,UAAnB,CAA+B,CACnCyB,QAAQ,CAAE,CACR1C,WAAW,CAAEA,WADL,CAER2C,IAAI,CAAEP,QAAQ,CAACQ,MAAT,CAAgBd,SAFd,CADyB,CAA/B,CAVM,QAgBZL,OAAO,CAACC,GAAR,CAAY,sCAAZ,CAAoDT,UAApD,EAhBY,wBAkBN4B,WAAU,EAlBJ,8FAoBZpB,OAAO,CAACC,GAAR,CAAY,8BAAZ,eApBY,uEAAH,kBAAPQ,QAAO,2CAAb,CAwBA;AACA,GAAMY,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/B,GAAOC,MAAP,CAAgBD,KAAK,CAACE,MAAtB,CAAOD,KAAP,CACA9B,aAAa,CAAC8B,KAAD,CAAb,CACD,CAHD,CAKA,GAAMX,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAMa,WAAU,CAAG,GAAIC,gCAAJ,CAAe7C,OAAf,CAAwBE,IAAI,CAACC,mBAA7B,CAAnB,CACA,GAAM2B,SAAQ,CAAG,GAAIgB,wBAAJ,CACfF,UADe,CACH5B,MAAM,CAACC,MADJ,CACYf,IAAI,CAACC,mBADjB,CAAjB,CAGA,MAAO2B,SAAP,CACD,CAND,CAQA;AACA,GAAMiB,iBAAgB,uHAAG,gLAEfjB,QAFe,CAEJC,WAAW,EAFP,CAGfC,OAHe,CAGL,GAAIC,uBAAJ,CAAYpC,GAAZ,CAAiBD,SAAjB,CAA4BkC,QAA5B,CAHK,CAIrBX,OAAO,CAACC,GAAR,CAAY,MAAZ,EAJqB,uBAKfY,QAAO,CAACE,GAAR,CAAYc,UAAZ,CAAuB,CAC3BZ,QAAQ,CAAE,CACR1C,WAAW,CAAEA,WADL,CAER2C,IAAI,CAAEP,QAAQ,CAACQ,MAAT,CAAgBd,SAFd,CAGRyB,aAAa,CAAE1D,aAAa,CAAC2D,SAHrB,CADiB,CAM3BC,OAAO,CAAE,CAACzD,WAAD,CANkB,CAAvB,CALe,QAarByB,OAAO,CAACC,GAAR,CAAY,uCAAZ,CAAqD1B,WAAW,CAAC+B,QAAZ,EAArD,EAbqB,uBAcfc,WAAU,EAdK,6FAiBrBpB,OAAO,CAACC,GAAR,CAAY,qCAAZ,eAjBqB,uEAAH,kBAAhB2B,iBAAgB,2CAAtB,CAqBA,GAAMK,4BAA2B,CAAG,QAA9BA,4BAA8B,sBAClC,qCACE,SAAS,CAAC,kCADZ,CAEE,OAAO,CAAEzB,aAFX,6BADkC,EAApC,CASA,GAAM0B,yBAAwB,CAAG,QAA3BA,yBAA2B,EAAM,CACrC;AACA,GAAGxC,OAAO,GAAK,IAAf,CAAqB,CACnB,mBACE,kCAAK,SAAS,CAAC,qBAAf,uBACE,qCAAQ,SAAS,CAAC,8BAAlB,CAAiD,OAAO,CAAEkC,gBAA1D,mDADF,EADF,CAKD,CAND,IAOK,CACH;AACA,mBACA,mCAAK,SAAS,CAAC,qBAAf,wBACE,oCAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,sBAA/B,CAAsD,KAAK,CAAEpC,UAA7D,CAAyE,QAAQ,CAAE6B,aAAnF,EADF,cAEE,qCAAQ,SAAS,CAAC,8BAAlB,CAAiD,OAAO,CAAEZ,OAA1D,yBAFF,cAGE,kCAAK,SAAS,CAAC,UAAf,UACGf,OAAO,CAACyC,GAAR,CAAY,SAACC,IAAD,CAAOC,KAAP,qBACX,mCAAK,SAAS,CAAC,UAAf,wBACE,kCAAK,GAAG,CAAED,IAAI,CAACE,OAAf,CAAwB,GAAG,CAAEF,IAAI,CAACE,OAAlC,EADF,cAEE,iCAAG,SAAS,CAAC,aAAb,4BAA0CF,IAAI,CAACG,WAAL,CAAiBjC,QAAjB,EAA1C,GAFF,GAA+B+B,KAA/B,CADW,EAAZ,CADH,EAHF,GADA,CAcD,CACF,CA1BD,CA4BA;AACA,GAAMjB,WAAU,uHAAG,wLAETT,QAFS,CAEEC,WAAW,EAFb,CAGTC,OAHS,CAGC,GAAIC,uBAAJ,CAAYpC,GAAZ,CAAiBD,SAAjB,CAA4BkC,QAA5B,CAHD,wBAIOE,QAAO,CAAC2B,OAAR,CAAgBjE,WAAhB,CAA4BkE,KAA5B,CAAkClE,WAAlC,CAJP,QAITiE,OAJS,gBAMfxC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCuC,OAAjC,EACA7C,UAAU,CAAC6C,OAAO,CAAC9C,OAAT,CAAV,CAPe,qFAUfM,OAAO,CAACC,GAAR,CAAY,iBAAZ,eACAN,UAAU,CAAC,IAAD,CAAV,CAXe,uEAAH,kBAAVyB,WAAU,2CAAhB,CAeA;AACAsB,0BAAS,CAAC,UAAM,CACd7C,MAAM,CAAC8C,gBAAP,CAAwB,MAAxB,uHAAgC,kBAAOrB,KAAP,+IACxB1B,yBAAwB,EADA,yDAAhC,iEAGD,CAJQ,CAIN,EAJM,CAAT,CAMA;AACA8C,0BAAS,CAAC,UAAM,CACd,GAAGpD,aAAH,CAAkB,CAChBU,OAAO,CAACC,GAAR,CAAY,sBAAZ,EACA;AACAmB,UAAU,GACX,CACF,CANQ,CAMN,CAAC9B,aAAD,CANM,CAAT,CAQA,mBACE,kCAAK,SAAS,CAAC,KAAf,uBACE,mCAAK,SAAS,CAAEA,aAAa,CAAG,kBAAH,CAAwB,WAArD,wBACE,mCAAK,SAAS,CAAC,kBAAf,wBACE,gCAAG,SAAS,CAAC,QAAb,qBADF,cAEE,gCAAG,SAAS,CAAC,UAAb,+EAFF,CAKG,CAACA,aAAD,EAAkB2C,2BAA2B,EALhD,CAMG3C,aAAa,EAAI4C,wBAAwB,EAN5C,GADF,cASE,mCAAK,SAAS,CAAC,kBAAf,wBACE,kCAAK,GAAG,CAAC,cAAT,CAAwB,SAAS,CAAC,cAAlC,CAAiD,GAAG,CAAEU,YAAtD,EADF,cAEE,gCACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAEzD,YAFR,CAGE,MAAM,CAAC,QAHT,CAIE,GAAG,CAAC,YAJN,8BAKeD,cALf,GAFF,GATF,GADF,EADF,CAuBD,CA/LD,CAiMeE,qDAAf,E;;AClOAyD,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,SAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","export default __webpack_public_path__ + \"static/media/twitter-logo.d89d9a86.svg\";","import twitterLogo from './assets/twitter-logo.svg';\nimport './App.css';\nimport {useEffect, useState} from 'react';\nimport idl from './idl.json';\nimport { Connection, PublicKey, clusterApiUrl} from '@solana/web3.js';\nimport { Program, Provider, web3 } from '@project-serum/anchor';\n\n// Constants\n\n// SystemProgram is a reference to the Solana runtime!\nconst { SystemProgram, Keypair } = web3;\n\n// Embed public key of program account\nconst baseAccount = new PublicKey('CBwSeef62zCY3CbUgQnKQPmokozQp5FDcsfMwFUgXHX2');\n\n// Get our program's id form the IDL file.\nconst programID = new PublicKey(idl.metadata.address);\n\n// Set our network to devent.\nconst network = clusterApiUrl('devnet');\n\n// Control's how we want to acknowledge when a trasnaction is \"done\".\nconst opts = {\n  preflightCommitment: \"processed\"\n}\n\n// TEST GIFS\nconst TEST_GIFS = [\n\t'https://i.giphy.com/media/eIG0HfouRQJQr1wBzz/giphy.webp',\n\t'https://media3.giphy.com/media/L71a8LW2UrKwPaWNYM/giphy.gif?cid=ecf05e47rr9qizx2msjucl1xyvuu47d7kf25tqt2lvo024uo&rid=giphy.gif&ct=g',\n\t'https://media4.giphy.com/media/AeFmQjHMtEySooOc8K/giphy.gif?cid=ecf05e47qdzhdma2y3ugn32lkgi972z9mpfzocjj6z1ro4ec&rid=giphy.gif&ct=g',\n\t'https://i.giphy.com/media/PAqjdPkJLDsmBRSYUp/giphy.webp'\n]\n\n// buildspace twitter stuff\nconst TWITTER_HANDLE = '_buildspace';\nconst TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\n\nconst App = () => {\n  // State\n  const [walletAddress, setWalletAddress] = useState(null);\n  const [inputValue, setInputValue] = useState('');\n  const [gifList, setGifList] = useState([]);\n\n  // Is phantom wallet connected?\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const {solana} = window;\n\n      if(solana) {\n        if(solana.isPhantom) {\n          console.log('Phantom Wallet is found!');\n          const response = await solana.connect({onlyIfTrusted: true});\n          console.log('Connected with PubKey:', response.publicKey.toString());\n          setWalletAddress(response.publicKey.toString());\n        } else {\n          alert('Solana obj is not found - get Phantom Wallet');\n        }\n      }\n    } catch (err) {\n      console.log('err');\n    }\n  };\n\n  // Connect Wallet Logic\n  const connectWallet = async () => {\n    // Render UI when user wallet is not connected\n    const {solana} = window;\n\n    if(solana) {\n      const response = await solana.connect();\n      console.log('Connected with pubKey:', response.publicKey.toString());\n      setWalletAddress(response.publicKey.toString());\n    }\n  };\n\n  // Send Gif from valid link to our grid\n  const sendGif = async () => {\n    if(inputValue.length === 0) {\n      console.log('No gif link given!');\n      return;\n    }\n    console.log('Gif link:', inputValue);\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n\n      await program.rpc.addGif(inputValue, {\n        accounts: {\n          baseAccount: baseAccount,\n          user: provider.wallet.publicKey,\n        },\n      });\n      console.log('Gif successfully sent to our program', inputValue);\n\n      await getGifList();\n    } catch (err) {\n      console.log('Error sending gif to program', err);\n    }\n  };\n\n  // Get Input Change\n  const onInputChange = (event) => {\n    const {value} = event.target;\n    setInputValue(value);\n  };\n\n  const getProvider = () => {\n    const connection = new Connection(network, opts.preflightCommitment);\n    const provider = new Provider(\n      connection, window.solana, opts.preflightCommitment,\n    );\n    return provider;\n  }\n\n  // Call Initialize\n  const createGifAccount = async () => {\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n      console.log('ping')\n      await program.rpc.initialize({\n        accounts: {\n          baseAccount: baseAccount,\n          user: provider.wallet.publicKey,\n          systemProgram: SystemProgram.programId,\n        },\n        signers: [baseAccount]\n      });\n      console.log('Created a new BaseAccount w/ address:', baseAccount.toString());\n      await getGifList();\n  \n    } catch(err) {\n      console.log('Error creating BaseAccount account:', err);\n    }\n  }\n  \n  const renderNotConnectedContainer = () => (\n    <button\n      className='cta-button connect-wallet-button'\n      onClick={connectWallet}\n    >\n      Connect Wallet!\n    </button>\n  );\n\n  const renderConnectedContainer = () => {\n    // Program Account Not init\n    if(gifList === null) {\n      return (\n        <div className='connected-container'>\n          <button className='cta-button submit-gif-button' onClick={createGifAccount}>One Time Init for GIF Program Account</button>\n        </div>\n      )\n    }\n    else {\n      // Account exists and user can submit gifs\n      return(\n      <div className='connected-container'>\n        <input type='text' placeholder='Enter gif link here!' value={inputValue} onChange={onInputChange}/>\n        <button className='cta-button submit-gif-button' onClick={sendGif}>Submit Gif!</button>\n        <div className='gif-grid'>\n          {gifList.map((item, index) => (\n            <div className='gif-item' key={index}>\n              <img src={item.gifLink} alt={item.gifLink}/>\n              <p className='submit-text'>Submitted by: {item.userAddress.toString()}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n      )\n    }\n  };\n\n  // get gif list\n  const getGifList = async() => {\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n      const account = await program.account.baseAccount.fetch(baseAccount);\n      \n      console.log('Account retrieved', account)\n      setGifList(account.gifList)\n  \n    } catch (err) {\n      console.log('getGifs error: ', err)\n      setGifList(null);\n    }\n  }\n\n  // Check for connected wallet\n  useEffect(() => {\n    window.addEventListener('load', async (event) => {\n      await checkIfWalletIsConnected();\n    });\n  }, []);\n\n  // Fetch gif list from connected wallet\n  useEffect(() => {\n    if(walletAddress) {\n      console.log('Fetching Gif List...');\n      // Call solana program && set state\n      getGifList();\n    }\n  }, [walletAddress]);\n\n  return (\n    <div className=\"App\">\n      <div className={walletAddress ? 'authed-container' : 'container'}>\n        <div className=\"header-container\">\n          <p className=\"header\">Gifurry</p>\n          <p className=\"sub-text\">\n          ✨ add gifs of fur frens to explore the metaverse with ✨\n          </p>\n          {!walletAddress && renderNotConnectedContainer()}\n          {walletAddress && renderConnectedContainer()}\n        </div>\n        <div className=\"footer-container\">\n          <img alt=\"Twitter Logo\" className=\"twitter-logo\" src={twitterLogo} />\n          <a\n            className=\"footer-text\"\n            href={TWITTER_LINK}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >{`built on @${TWITTER_HANDLE}`}</a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}